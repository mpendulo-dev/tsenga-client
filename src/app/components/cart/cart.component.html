<app-navbar [numberOfProducts]="numberOfProductsInCart"></app-navbar>

<div class="cart mt-3">
  <h1 class="text-center mb-4">Shopping Cart</h1>
  <div class="container mt-3" *ngIf="cart.length !== 0">
    <div class="row">
      <div class="col-md-8 mb-3">
        <div class="card mb-3" style="max-width: 600px;" *ngFor="let product of cart">
          <div class="row g-0">
            <div class="col-md-4">
              <img [src]="product?.productImage.data[0].attributes.url" class="img-fluid rounded-start" alt="{{product?.name}}">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
                    <h5 class="card-title">{{product?.name}}</h5>
                  </div>
                  <div class="col-md-6">
                    <h5>R{{product?.price}}</h5>
                  </div>
                </div>
                <small>Reviews 4.9 ‚≠ê(20)</small>
                <div class="text-primary mb-2">In stock ({{product?.quantity}})</div>
                <p class="card-text">{{product?.shortDescription}}</p>
                <div class="row">
                  <div class="col-md-6">
                    <button class="btn btn-danger"  (click)="removeProduct(product)">Remove</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    <div class="col-md-4">
      <div class="card">
        <div class="card-body">
          Cart Summary
          <div class="row mt-3">
            <div class="col-md-6">
              <small class="fw-bold">Total Items: ({{numberOfProductsInCart}})</small> 
            </div>
            <div class="col-md-6">
              <small class="text-success fs-5">R{{totalOfCartItems}}</small>
            </div>
          </div>
        </div>
          <button class="btn btn-success m-3">Proceed to checkout</button>
      </div>
    </div>
  </div>
  </div>
</div>
